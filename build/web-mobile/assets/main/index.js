window.__require=function t(e,n,o){function r(c,a){if(!n[c]){if(!e[c]){var s=c.split("/");if(s=s[s.length-1],!e[s]){var u="function"==typeof __require&&__require;if(!a&&u)return u(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+c+"'")}c=s}var l=n[c]={exports:{}};e[c][0].call(l.exports,function(t){return r(e[c][1][t]||t)},l,l.exports,t,e,n,o)}return n[c].exports}for(var i="function"==typeof __require&&__require,c=0;c<o.length;c++)r(o[c]);return r}({ArrayUtil:[function(t,e,n){"use strict";cc._RF.push(e,"7a691iKSGRFTJ/UfOCsCbOp","ArrayUtil");var o=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),r=0;for(e=0;e<n;e++)for(var i=arguments[e],c=0,a=i.length;c<a;c++,r++)o[r]=i[c];return o};Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){}return t.copy2DArray=function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].concat());return e},t.fisherYatesShuffle=function(t){for(var e=t.length;e;){var n=Math.floor(Math.random()*e--),o=t[e];t[e]=t[n],t[n]=o}return t},t.confound=function(t){return t.slice().sort(function(){return Math.random()-.5})},t.flattening=function(t){for(;t.some(function(t){return Array.isArray(t)});)t=[].concat.apply([],t);return t},t.combineArrays=function(t,e){return o(t,e)},t.getRandomValueInArray=function(t){return t[Math.floor(Math.random()*t.length)]},t}();n.default=r,cc._RF.pop()},{}],AudioPlayer:[function(t,e,n){"use strict";cc._RF.push(e,"c5fc0P+pyRE8LtQqeB8uWid","AudioPlayer");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function c(t){try{s(o.next(t))}catch(e){i(e)}}function a(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(c,a)}s((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,r,i,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,o=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){c.label=i[1];break}if(6===i[0]&&c.label<r[1]){c.label=r[1],r=i;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(i);break}r[2]&&c.ops.pop(),c.trys.pop();continue}i=e.call(t,c)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../../commonScripts/utils/Utils"),c=function(){function t(){}return Object.defineProperty(t,"masterVolume",{get:function(){return this._masterVolume},enumerable:!1,configurable:!0}),Object.defineProperty(t,"musicVolume",{get:function(){return this._musicVolume},enumerable:!1,configurable:!0}),Object.defineProperty(t,"effectVolume",{get:function(){return this._effectVolume},enumerable:!1,configurable:!0}),t.setMasterVolume=function(t){t<0?t=0:t>1&&(t=1),this._masterVolume=t,this.setMusicVolume(this._musicVolume),this.setEffectVolume(this._effectVolume)},t.setVolume=function(t){this.setMusicVolume(t),this.setEffectVolume(t)},t.setMusicVolume=function(t){t<0?t=0:t>1&&(t=1),this._musicVolume=t;var e=this._masterVolume*t;this._music.forEach(function(t){return cc.audioEngine.setVolume(t,e)})},t.setEffectVolume=function(t){t<0?t=0:t>1&&(t=1),this._effectVolume=t;var e=this._masterVolume*t;this._effect.forEach(function(t,n){return cc.audioEngine.setVolume(n,e)})},t.playMusicByUrl=function(t){return o(this,void 0,void 0,function(){var e;return r(this,function(n){switch(n.label){case 0:return[4,i.default.load(t,cc.AudioClip)];case 1:return e=n.sent(),this.playMusic(e),[2]}})})},t.playMusic=function(t){return o(this,void 0,void 0,function(){var e;return r(this,function(){return this._music.has(t)&&this.stopMusic(t),e=cc.audioEngine.play(t,!0,this._masterVolume*this._musicVolume),this._music.set(t,e),[2]})})},t.stopMusic=function(t){this._music.has(t)&&(cc.audioEngine.stop(this._music.get(t)),this._music.delete(t))},t.stopAllMusic=function(){var t=this;this._music.forEach(function(e,n){return t.stopMusic(n)})},t.pauseMusic=function(t){this._music.has(t)&&cc.audioEngine.pause(this._music.get(t))},t.pauseAllMusic=function(){var t=this;this._music.forEach(function(e,n){return t.pauseMusic(n)})},t.resumeMusic=function(t){this._music.has(t)&&cc.audioEngine.resume(this._music.get(t))},t.resumeAllMusic=function(){var t=this;this._music.forEach(function(e,n){return t.resumeMusic(n)})},t.playEffectByUrl=function(t,e){return void 0===e&&(e=!1),o(this,void 0,void 0,function(){var n;return r(this,function(o){switch(o.label){case 0:return[4,i.default.load(t,cc.AudioClip)];case 1:return n=o.sent(),this.playEffect(n,e),[2]}})})},t.playEffect=function(t,e){var n=this,o=cc.audioEngine.play(t,e,this._masterVolume*this._effectVolume);this._effect.set(o,t),e||cc.audioEngine.setFinishCallback(o,function(){return n._effect.delete(o)})},t.stopEffect=function(t){var e=this;this._effect.forEach(function(n,o){n===t&&(cc.audioEngine.stop(o),e._effect.delete(o))})},t.stopAllEffect=function(){var t=this;this._effect.forEach(function(e,n){cc.audioEngine.stop(n),t._effect.delete(n)})},t.pauseEffect=function(t){this._effect.forEach(function(e,n){return e===t&&cc.audioEngine.pause(n)})},t.pauseAllEffect=function(){this._effect.forEach(function(t,e){return cc.audioEngine.pause(e)})},t.resumeEffect=function(t){this._effect.forEach(function(e,n){return e===t&&cc.audioEngine.resume(n)})},t.resumeAllEffect=function(){this._effect.forEach(function(t,e){return cc.audioEngine.resume(e)})},t.stopAll=function(){this.stopAllMusic(),this.stopAllEffect()},t.pauseAll=function(){this.pauseAllMusic(),this.pauseAllEffect()},t.resumeAll=function(){this.resumeAllMusic(),this.resumeAllEffect()},t.mute=function(){this.setMasterVolume(0)},t._music=new Map,t._effect=new Map,t._masterVolume=1,t._musicVolume=1,t._effectVolume=1,t}();n.default=c,cc._RF.pop()},{"../../commonScripts/utils/Utils":"Utils"}],BackgroundFitter:[function(t,e,n){"use strict";cc._RF.push(e,"b5624yuzYdHupGdY76cgNdz","BackgroundFitter");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("./core/EventManager"),a=t("./constants/Events"),s=cc._decorator.ccclass,u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onLoad=function(){c.default.on(a.VIEW_RESIZE,this.adapt,this)},e.prototype.start=function(){this.adapt()},e.prototype.onDestroy=function(){c.default.off(a.VIEW_RESIZE,this.adapt,this)},e.prototype.adapt=function(){if(cc.winSize.height/cc.winSize.width>=cc.Canvas.instance.designResolution.height/cc.Canvas.instance.designResolution.width){var t=cc.winSize.height/cc.Canvas.instance.designResolution.height;this.node.scale=t}else t=cc.winSize.width/cc.Canvas.instance.designResolution.width,this.node.scale=t},i([s],e)}(cc.Component);n.default=u,cc._RF.pop()},{"./constants/Events":"Events","./core/EventManager":"EventManager"}],BrowserUtil:[function(t,e,n){"use strict";cc._RF.push(e,"abc2bl1T4dCy5zbqZmIbyj4","BrowserUtil"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.clearUrlParam=function(){window&&window.history&&window.history.replaceState({},null,".")},t.setUrlParam=function(t){window&&window.history&&window.history.replaceState({},null,"?"+t)},t.getUrlParam=function(t){if(window&&window.location){var e=window.location.search.replace("?","");if(""===e)return null;for(var n=e.split("&"),o=0;o<n.length;o++){var r=n[o].split("=");if(decodeURIComponent(r[0])===t)return decodeURIComponent(r[1])}return null}},t.copy=function(t){if(!document)return!1;var e=document.createElement("textarea");e.readOnly=!0,e.style.opacity="0",e.value=t,document.body.appendChild(e),e.select();var n=document.createRange();n.selectNodeContents(e);var o=getSelection();o.removeAllRanges(),o.addRange(n);var r=document.execCommand("copy");return e.remove(),r},t}();n.default=o,cc._RF.pop()},{}],Button:[function(t,e,n){"use strict";cc._RF.push(e,"569b96I9FVPTI6hFqD4C11+","Button");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("./core/AudioPlayer"),a=cc._decorator,s=a.ccclass,u=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skinNormal=null,e.skinDisabled=null,e.txtTime=null,e.sec=0,e._disabled=!1,e}return r(e,t),e.prototype.startCountDown=function(t){this.disabled=!0,this.sec=t,this.tickerTimeDown(),this.unschedule(this.tickerTimeDown),this.schedule(this.tickerTimeDown,1,t)},e.prototype.tickerTimeDown=function(){this.txtTime&&(this.txtTime.node.active=!0,this.txtTime.string=this.sec+"s",this.sec--,this.sec<=0&&(this.txtTime.node.active=!1,this.disabled=!1))},Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=t,this.setSkin()},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.txtTime&&(this.txtTime.node.active=!1),this.disabled=!1},e.prototype.setSkin=function(){var t=this.getComponent(cc.Sprite);this._disabled&&this.skinDisabled&&(t.spriteFrame=this.skinDisabled),!this._disabled&&this.skinNormal&&(t.spriteFrame=this.skinNormal)},e.prototype.start=function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_START,function(){c.default.playEffectByUrl("sound/btn",!1),cc.tween(t.node).to(.15,{scaleX:1.1,scaleY:1.1}).start()},this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.doAtCancel,this),this.node.on(cc.Node.EventType.TOUCH_END,this.doAtCancel,this)},e.prototype.doAtCancel=function(){cc.tween(this.node).to(.15,{scaleX:1,scaleY:1}).start()},i([u(cc.SpriteFrame)],e.prototype,"skinNormal",void 0),i([u(cc.SpriteFrame)],e.prototype,"skinDisabled",void 0),i([u(cc.Label)],e.prototype,"txtTime",void 0),i([u],e.prototype,"disabled",null),i([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{"./core/AudioPlayer":"AudioPlayer"}],Combo:[function(t,e,n){"use strict";cc._RF.push(e,"cb9b47LEQ1C6bZkkT+iG6Fd","Combo");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spNum=null,e.animate=null,e}return r(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.showNum=function(t){this.spNum.string=""+t,this.spNum.node.scale=0,this.spNum.node.opacity=255,this.animate.setAnimation(0,"combo",!1),cc.tween(this.spNum.node).to(.2,{scale:1}).delay(1/30*2).to(.3,{opacity:0}).start()},i([s({type:cc.Label})],e.prototype,"spNum",void 0),i([s({type:sp.Skeleton})],e.prototype,"animate",void 0),i([a],e)}(cc.Component);n.default=u,cc._RF.pop()},{}],ConfirmPopup:[function(t,e,n){"use strict";cc._RF.push(e,"55f66lg9WVJ5LkdlirME3QQ","ConfirmPopup");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("./PopupBase"),a=cc._decorator,s=a.ccclass,u=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.titleLabel=null,e.contentLabel=null,e.confirmBtn=null,e}return r(e,t),e.prototype.onLoad=function(){this.registerEvent()},e.prototype.onDestroy=function(){this.unregisterEvent()},e.prototype.registerEvent=function(){this.confirmBtn.on(cc.Node.EventType.TOUCH_END,this.onConfirmBtnClick,this)},e.prototype.unregisterEvent=function(){this.confirmBtn.targetOff(this)},e.prototype.init=function(){},e.prototype.updateDisplay=function(t){this.titleLabel.string=t.title,this.contentLabel.string=t.content},e.prototype.onConfirmBtnClick=function(){this.options.confirmCallback&&this.options.confirmCallback(),this.hide()},i([u(cc.Label)],e.prototype,"titleLabel",void 0),i([u(cc.Label)],e.prototype,"contentLabel",void 0),i([u(cc.Node)],e.prototype,"confirmBtn",void 0),i([s],e)}(c.PopupBase);n.default=l,cc._RF.pop()},{"./PopupBase":"PopupBase"}],CustomConfig:[function(t,e,n){"use strict";cc._RF.push(e,"852fcxMoEVEa4kAXSGDxWua","CustomConfig"),Object.defineProperty(n,"__esModule",{value:!0}),n.PEOPLE_EACH_GAME=n.ajaxUrl=n.wsUrl=void 0,n.wsUrl="wss://ztaudio-roomgame.qianyancm.com:3002",n.ajaxUrl="wss://ztaudio-roomgame.qianyancm.com:3000",n.PEOPLE_EACH_GAME=2,cc._RF.pop()},{}],CustomInterface:[function(t,e,n){"use strict";cc._RF.push(e,"187c8bl+SNK/7X01AAYSLwJ","CustomInterface");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.SceneBase=void 0;var i=t("../core/SceneNavigator"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onLaunched=function(){this.params=i.default.param},e}(cc.Component);n.SceneBase=c,cc._RF.pop()},{"../core/SceneNavigator":"SceneNavigator"}],DebugUtil:[function(t,e,n){"use strict";cc._RF.push(e,"db968xb8hdEK7+8hSN0pPt2","DebugUtil"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.log=function(t,e){e?console.log("%c "+t+" %c "+e+" ","background: #35495E;padding: 1px;border-radius: 2px 0 0 2px;color: #fff;","background: #409EFF;padding: 1px;border-radius: 0 2px 2px 0;color: #fff;"):console.log("%c "+t+" ","background: #409EFF;padding: 1px;border-radius: 0 2px 2px 0;color: #fff;")},t.showDynamicAtlas=function(t){return void 0===t&&(t=!0),cc.dynamicAtlasManager.showDebug(t)},t.showStats=function(t){void 0===t&&(t=!0),cc.debug.setDisplayStats(t)},t.setStatsColor=function(t,e){void 0===t&&(t=cc.Color.WHITE),void 0===e&&(e=cc.color(0,0,0,150));var n=cc.find("PROFILER-NODE");if(!n)return cc.warn("\u672a\u627e\u5230\u7edf\u8ba1\u9762\u677f\u8282\u70b9\uff01");n.children.forEach(function(e){return e.color=t});var o=n.getChildByName("BACKGROUND");o||(o=new cc.Node("BACKGROUND"),n.addChild(o,cc.macro.MIN_ZINDEX),o.setContentSize(n.getBoundingBoxToWorld()),o.setPosition(0,0));var r=o.getComponent(cc.Graphics)||o.addComponent(cc.Graphics);r.clear(),r.rect(-5,12.5,o.width+10,o.height-10),r.fillColor=e,r.fill()},t.getDrawCalls=function(){return cc.renderer.drawCalls},t}();n.default=o,window.eazax&&(window.eazax.debug=o),cc._RF.pop()},{}],EachArea:[function(t,e,n){"use strict";cc._RF.push(e,"a194eozfQJAtJnhMF48/ucJ","EachArea");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0}),n.EachArea=void 0;var c=t("../../commonScripts/utils/Utils"),a=cc._decorator,s=a.ccclass,u=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.quanList=[],e.dingzi=null,e.datasource=[0,0,0],e._showCenter=!1,e}return r(e,t),Object.defineProperty(e.prototype,"showCenter",{get:function(){return this._showCenter},set:function(t){this._showCenter=t,this.dingzi.active=t},enumerable:!1,configurable:!0}),e.prototype.setData=function(t){var e=this;t.forEach(function(t,n){e.addQuan(n,t)}),this.datasource=t},e.prototype.addQuan=function(t,e){var n=this.quanList[t];if(0==e)n.node.active=!1;else{n.node.active=!0;var o=n.getComponent(cc.Sprite);o.trim=!1,o.sizeMode=cc.Sprite.SizeMode.RAW,c.default.setSpImg(o,"quan/"+["xiao","zhong","da"][t]+e)}},e.prototype.start=function(){},i([u([cc.Sprite])],e.prototype,"quanList",void 0),i([u({type:cc.Node})],e.prototype,"dingzi",void 0),i([u({type:cc.Boolean})],e.prototype,"showCenter",null),i([s],e)}(cc.Component);n.EachArea=l,cc._RF.pop()},{"../../commonScripts/utils/Utils":"Utils"}],EventManager:[function(t,e,n){"use strict";cc._RF.push(e,"610f1P2QCpCR5BQNKbgOSVH","EventManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.on=function(t,e,n){this.events.has(t)||this.events.set(t,[]),this.events.get(t).push({callback:e,target:n})},t.once=function(t,e,n){this.onceEvents.has(t)||this.onceEvents.set(t,[]),this.onceEvents.get(t).push({callback:e,target:n})},t.off=function(t,e,n){if(this.events.has(t))for(var o=this.events.get(t),r=0;r<o.length;r++)if(o[r].target===n&&(o[r].callback===e||o[r].callback.toString()===e.toString())){o.splice(r,1);break}if(this.onceEvents.has(t))for(o=this.onceEvents.get(t),r=0;r<o.length;r++)if(o[r].target===n&&(o[r].callback===e||o[r].callback.toString()===e.toString())){o.splice(r,1);break}},t.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(this.events.has(t))for(var o=this.events.get(t),r=0;r<o.length;r++)o[r].callback.apply(o[r].target,e);if(this.onceEvents.has(t)){for(o=this.onceEvents.get(t),r=0;r<o.length;r++)o[r].callback.apply(o[r].target,e);o.length=0}},t.remove=function(t){this.events.has(t)&&this.events.delete(t),this.onceEvents.has(t)&&this.onceEvents.delete(t)},t.removeAll=function(){this.events.clear(),this.onceEvents.clear()},t.events=new Map,t.onceEvents=new Map,t}();n.default=o,window.EventManager=o,cc._RF.pop()},{}],Events:[function(t,e,n){"use strict";cc._RF.push(e,"a30a2JPpWpKmofcfKCMsyUO","Events"),Object.defineProperty(n,"__esModule",{value:!0}),n.EventTypes=n.VIEW_RESIZE=void 0,n.VIEW_RESIZE="view-resize",function(t){t[t.TASK_CALCULATE_INPUT=0]="TASK_CALCULATE_INPUT"}(n.EventTypes||(n.EventTypes={})),cc._RF.pop()},{}],GameCtr:[function(t,e,n){"use strict";cc._RF.push(e,"6b255hnT2NEXbhiv07SqsmM","GameCtr"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.addQuan=function(t,e,n){var o=this,r=[],i=this.putQuan(t,e,n);if(!i)return{type:0};var c=(i=i)[e][t];if(this.checkSameInGrid(t,e,i)){var a={dir:1,x:t,y:e,list:[]};c.forEach(function(n,o){var r={x:t,y:e,circlePos:o,color:n};a.list.push(r)}),r.push(a)}var s=[];return s.push({x:1,y:e,dir:2,list:[{circleList:i[e][0],x:0,y:e},{circleList:i[e][1],x:1,y:e},{circleList:i[e][2],x:2,y:e}]}),s.push({x:t,y:1,dir:3,list:[{circleList:i[0][t],x:t,y:0},{circleList:i[1][t],x:t,y:1},{circleList:i[2][t],x:t,y:2}]}),t==e&&s.push({x:1,y:1,dir:4,list:[{circleList:i[0][0],x:0,y:0},{circleList:i[1][1],x:1,y:1},{circleList:i[2][2],x:2,y:2}]}),t==2-e&&s.push({x:1,y:1,dir:5,list:[{circleList:i[0][2],x:2,y:0},{circleList:i[1][1],x:1,y:1},{circleList:i[2][0],x:0,y:2}]}),s.forEach(function(t){for(var e=function(e){var n=t.list.map(function(t){return t.circleList});if(o.checkHaveNumInList(n,e)){var i=r.find(function(e){return e.x==t.x&&e.y==t.y});i||(i={x:t.x,y:t.y,dir:t.dir,list:[]},r.push(i)),t.list.forEach(function(t){t.circleList.forEach(function(n,o){n==e&&i.list.push({x:t.x,y:t.y,color:e,circlePos:o})})})}},n=1;n<=o.maxColor;n++)e(n)}),r.forEach(function(t){t.list.forEach(function(t){(i=i)[t.y][t.x][t.circlePos]=0})}),{dispelledList:r,afterPutData:i,dataTarget:c,type:1}},t.resetAll=function(){this.comboCount=0,this.sec=120,this.playerRings={}},t.initDataList=function(){this.dataList=[];for(var t=0;t<3;t++){for(var e=[],n=0;n<3;n++)e[n]=[0,0,0];this.dataList[t]=e}this.score=0},t.getRandomColor=function(){return Math.floor(Math.random()*this.maxColor)},t.createQuan=function(){var t=[],e=1+Math.floor(Math.random()*this.maxColor);return t[Math.floor(3*Math.random())]=e,t},t.putQuan=function(t,e,n){cc.log(t,e,this.dataList,"dataListdataListdataList");var o=JSON.parse(JSON.stringify(this.dataList[e][t]));if(o.find(function(t,e){return t&&n[e]}))return cc.log("\u4e0d\u80fd\u653e"),!1;n.forEach(function(t,e){t&&(o[e]=t)});var r=JSON.parse(JSON.stringify(this.dataList));return r[e][t]=o,r},t.checkSameInGrid=function(t,e,n){var o=n[e][t];return!!this.checkGridFull(t,e,n)&&Math.min.apply(Math,o)==Math.max.apply(Math,o)},t.checkHaveNumInList=function(t,e){return t.every(function(t){return t.indexOf(e)>-1})},t.checkGridFull=function(t,e,n){var o=n[e][t];return o[0]&&o[1]&&o[2]},t.playerRings={},t.sec=120,t.maxSec=120,t.startTime=1615816363239,t.lastQuan=[],t.lastQuanOppo=[],t.score=0,t.comboCount=0,t.maxColor=5,t.dataList=[],t}();n.default=o,cc._RF.pop()},{}],GameManager:[function(t,e,n){"use strict";cc._RF.push(e,"e9c44cSaBBGs6denaoUex7e","GameManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./SocketManager"),r=t("./RoomManager"),i=function(){function t(){}return t.resetAll=function(){r.default.userList.forEach(function(t){t.isOut=!1}),this.pkList=[],this.lastOutUser={},this.step=-1,this.currentUser={},this.votedList=[]},t.reqVote=function(t){o.default.sendGameMessage("reqVote",{spyUserId:t})},t.reqNextSpeak=function(){o.default.sendGameMessage("reqNextSpeak")},Object.defineProperty(t,"countSpy",{get:function(){return r.default.userList.filter(function(t){return t.isSpy&&!t.isOut}).length},enumerable:!1,configurable:!0}),Object.defineProperty(t,"countNormal",{get:function(){return r.default.userList.filter(function(t){return!t.isSpy&&!t.isOut}).length},enumerable:!1,configurable:!0}),t.pkList=[],t.lastOutUser={},t.gameType="quanquan",t.step=-1,t.currentUser={},t.votedList=[],t}();n.default=i,cc._RF.pop()},{"./RoomManager":"RoomManager","./SocketManager":"SocketManager"}],ImageAdapter:[function(t,e,n){"use strict";cc._RF.push(e,"27fefDtF19DNp7t2ctRxfsB","ImageAdapter");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.width=100,e.height=100,e.isCover=!1,e.isContain=!1,e}return r(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){this.adapt(),this.node.on(cc.Node.EventType.SIZE_CHANGED,this.adapt,this)},e.prototype.adapt=function(){var t=this.node.getContentSize(),e=t.width/this.width,n=t.height/this.height,o=1;this.isCover?o=Math.max(e,n):this.isContain&&(o=Math.min(e,n)),this.node.scale=o},i([s],e.prototype,"width",void 0),i([s],e.prototype,"height",void 0),i([s],e.prototype,"isCover",void 0),i([s],e.prototype,"isContain",void 0),i([a],e)}(cc.Component);n.default=u,cc._RF.pop()},{}],ImageUtil:[function(t,e,n){"use strict";cc._RF.push(e,"8a79cD+gu9LyZd++E8zfATr","ImageUtil"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.getPixelColor=function(t,e,n){var o=document.createElement("canvas"),r=o.getContext("2d");o.width=t.width,o.height=t.height;var i=t.getHtmlElementObj();r.drawImage(i,0,0,t.width,t.height);var c=r.getImageData(0,0,t.width,t.height),a=(n-1)*t.width*4+4*(e-1),s=c.data.slice(a,a+4),u=cc.color(s[0],s[1],s[2],s[3]);return i.remove(),o.remove(),u},t.imageToBase64=function(t,e){return new Promise(function(n){var o,r=null===(o=/\.png|\.jpg|\.jpeg/.exec(t))||void 0===o?void 0:o[0];if([".png",".jpg",".jpeg"].includes(r)){var i=document.createElement("canvas"),c=i.getContext("2d"),a=new Image;a.src=t,a.onload=function(){i.height=a.height,i.width=a.width,c.drawImage(a,0,0),r=".jpg"===r?"jpeg":r.replace(".","");var t=i.toDataURL("image/"+r);e&&e(t),n(t),a.remove(),i.remove()}}else console.warn("Not a jpg/jpeg or png resource!"),e&&e(null),n(null)})},t.base64ToTexture=function(t){var e=document.createElement("img");e.src=t;var n=new cc.Texture2D;return n.initWithElement(e),e.remove(),n},t.base64ToBlob=function(t){for(var e=t.split(","),n=/image\/\w+|;/.exec(e[0])[0],o=window.atob(e[1]),r=new ArrayBuffer(o.length),i=new Uint8Array(r),c=0;c<o.length;c++)i[c]=255&o.charCodeAt(c);return new Blob([i],{type:n})},t}();n.default=o,cc._RF.pop()},{}],InstanceEvent:[function(t,e,n){"use strict";cc._RF.push(e,"8e287rVm7JGu5GuwGDNkg3i","InstanceEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.InstanceEvent=void 0;var o=function(){function t(){this.events=null,this.onceEvents=null,this.events=new Array,this.onceEvents=new Array}return t.prototype.on=function(t,e){this.events.push({callback:t,target:e})},t.prototype.once=function(t,e){this.onceEvents.push({callback:t,target:e})},t.prototype.off=function(t,e){for(var n=0;n<this.events.length;n++)this.events[n].callback!==t||e&&this.events[n].target!==e||this.events.splice(n,1);for(n=0;n<this.onceEvents.length;n++)this.onceEvents[n].callback!==t||e&&this.onceEvents[n].target!==e||this.onceEvents.splice(n,1)},t.prototype.emit=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[],o=0;o<this.events.length;o++)n.push(this.events[o].callback.apply(this.events[o].target,t));for(o=0;o<this.onceEvents.length;o++)n.push(this.onceEvents[o].callback.apply(this.onceEvents[o].target,t));return this.onceEvents.length=0,Promise.all(n)},t.prototype.removeAll=function(){this.events.length=0,this.onceEvents.length=0},t}();n.InstanceEvent=o,cc._RF.pop()},{}],Interface:[function(t,e,n){"use strict";cc._RF.push(e,"17ebfI/Cc5P8a9DlIVQt//V","Interface"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],ListRender:[function(t,e,n){"use strict";cc._RF.push(e,"320ddK8ZUZHK5ebR8wzrwOl","ListRender");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spList=[],e.spaceBetween=4,e.cellPrefab=null,e.selectedIdx=-1,e._listData=[],e}return r(e,t),Object.defineProperty(e.prototype,"listData",{get:function(){return this._listData},set:function(t){this._listData=t,this.refresh()},enumerable:!1,configurable:!0}),e.prototype.renderHandler=function(){},e.prototype.refresh=function(){var t=this,e=this.listData;if(e.forEach(function(e,n){var o=t.spList[n];o||(t.spList[n]=cc.instantiate(t.cellPrefab),o=t.spList[n],t.node.addChild(o)),o.y=-(n*(o.height+t.spaceBetween)-t.spaceBetween),t.node.height=-o.y+o.height,o.active=!0,t.renderHandler(o,e,n)}),this.spList.length>e.length)for(var n=e.length;n<this.spList.length;n++)this.spList[n].active=!1},e.prototype.onLoad=function(){this.cellPrefab.parent&&this.node.removeChild(this.cellPrefab),this.node.removeAllChildren()},e.prototype.start=function(){},i([s],e.prototype,"spaceBetween",void 0),i([s(cc.Node)],e.prototype,"cellPrefab",void 0),i([a],e)}(cc.Component);n.default=u,cc._RF.pop()},{}],Marquee:[function(t,e,n){"use strict";cc._RF.push(e,"014acQ3CUdBE6mWTWx4zZeE","Marquee");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.view=null,e.label=null,e.texts=[],e.speed=1,e.loop=!1,e.playOnLoad=!1,e.index=0,e.isPlaying=!1,e.endCallback=null,e}return r(e,t),e.prototype.onLoad=function(){this.init(),this.playOnLoad&&this.play(0,this.loop)},e.prototype.update=function(){this.isPlaying&&0!==this.texts.length&&this.updatePosition()},e.prototype.init=function(){this.label.node.anchorX=0,this.setLabel("")},e.prototype.updatePosition=function(){this.label.node.x-=this.speed,this.label.node.x<=-(this.view.width/2+this.label.node.width)&&this.next()},e.prototype.setLabel=function(t){this.label.string=t,this.label.node.x=this.view.width/2},e.prototype.next=function(){this.index++,this.index>=this.texts.length?this.loop?(this.index=0,this.setLabel(this.texts[0])):(this.endCallback&&(this.endCallback(),this.endCallback=null),this.clean()):this.setLabel(this.texts[this.index])},e.prototype.push=function(t){var e;Array.isArray(t)?(e=this.texts).push.apply(e,t):this.texts.push(t)},e.prototype.play=function(t,e,n){void 0===t&&(t=0),void 0===e&&(e=!1),void 0===n&&(n=null),0!==this.texts.length&&(this.index=t<this.texts.length?t:0,this.setLabel(this.texts[this.index]),this.loop=e,this.endCallback=n,this.isPlaying=!0)},e.prototype.stop=function(){this.isPlaying=!1,this.index=0},e.prototype.pause=function(){this.isPlaying=!1},e.prototype.resume=function(){this.isPlaying=!0},e.prototype.clean=function(){this.stop(),this.index=0,this.texts=[],this.endCallback=null},i([s({type:cc.Node,tooltip:!1})],e.prototype,"view",void 0),i([s({type:cc.RichText,tooltip:!1})],e.prototype,"label",void 0),i([s({tooltip:"\u6587\u672c\u961f\u5217"})],e.prototype,"texts",void 0),i([s({tooltip:!1})],e.prototype,"speed",void 0),i([s({tooltip:!1})],e.prototype,"loop",void 0),i([s({tooltip:!1})],e.prototype,"playOnLoad",void 0),i([a],e)}(cc.Component);n.default=u,cc._RF.pop()},{}],MathUtil:[function(t,e,n){"use strict";cc._RF.push(e,"887d1oDOJ1GQ5ZH9Xu2tvXF","MathUtil"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.segmentsIntr=function(t,e,n,o){var r=(e.y-t.y)*(o.x-n.x)-(t.x-e.x)*(n.y-o.y);if(0==r)return!1;var i=((e.x-t.x)*(o.x-n.x)*(n.y-t.y)+(e.y-t.y)*(o.x-n.x)*t.x-(o.y-n.y)*(e.x-t.x)*n.x)/r,c=-((e.y-t.y)*(o.y-n.y)*(n.x-t.x)+(e.x-t.x)*(o.y-n.y)*t.y-(o.x-n.x)*(e.y-t.y)*n.y)/r;return(i-t.x)*(i-e.x)<=0&&(c-t.y)*(c-e.y)<=0&&(i-n.x)*(i-o.x)<=0&&(c-n.y)*(c-o.y)<=0&&{x:i,y:c}},t.getLineKeyParams=function(t,e,n){var o=Math.PI*n/180,r=90==n||-90==n?0:Math.tan(o),i=e-r*t;return new cc.Vec3(r,-1,i)},t.getLineKeyParams2=function(t,e,n,o){var r=(t-n)/(e-o),i=-(t+r*e);return new cc.Vec3(-1,r,i)},t.checkEqualNum=function(t,e){return Math.abs(t-e)<1},t.getRandomInt=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),Math.floor(Math.random()*(e-t)+t)},t.getPseudoRandomInt=function(t,e){return Math.ceil((9301*t+49297)%233280/233280*e)},t.getAngle=function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)},t.getDistance=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},t.angleToRadian=function(t){return t*Math.PI/180},t.shuffle=function(t){return t.sort(function(){return Math.random()-.5})},t}();n.default=o,cc._RF.pop()},{}],ModalMessage:[function(t,e,n){"use strict";cc._RF.push(e,"7a61aCm/ExGrYPdQZLQrcKR","ModalMessage");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../commonScripts/popups/PopupBase"),a=cc._decorator,s=a.ccclass,u=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnSure=null,e.btnCancel=null,e.content=null,e}return r(e,t),e.prototype.start=function(){this.btnSure.on(cc.Node.EventType.TOUCH_END,this.onSure,this)},e.prototype.onSure=function(){},e.prototype.init=function(t){this.content.string=t.content,t.onSure&&(this.onSure=t.onSure)},i([u(cc.Node)],e.prototype,"btnSure",void 0),i([u(cc.Node)],e.prototype,"btnCancel",void 0),i([u(cc.Label)],e.prototype,"content",void 0),i([s],e)}(c.PopupBase);n.default=l,cc._RF.pop()},{"../../commonScripts/popups/PopupBase":"PopupBase"}],ModalResult:[function(t,e,n){"use strict";cc._RF.push(e,"3d756H1u+hDtaCjKngS0vtl","ModalResult");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../commonScripts/popups/PopupBase"),a=t("../manager/GameCtr"),s=t("../../commonScripts/core/SceneNavigator"),u=t("../manager/RoomManager"),l=t("../../commonScripts/utils/Utils"),p=cc._decorator,f=p.ccclass,d=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listAvatar=[],e.btnAgain=null,e.score=null,e.spReason=null,e.imgReason1=null,e.imgReason2=null,e}return r(e,t),e.prototype.start=function(){this.btnAgain.on(cc.Node.EventType.TOUCH_END,function(){s.default.go("scene/start")},this)},e.prototype.init=function(t){this.score.string=""+a.default.score,this.listAvatar.forEach(function(t,e){var n=u.default.userList[e];t.getChildByName("name").getComponent(cc.Label).string=n.nickname;var o=t.getChildByName("avatar").getChildByName("inner").getComponent(cc.Sprite);l.default.setSpImgFromNet(o,n.avatar)}),this.spReason.spriteFrame=1==t.reason?this.imgReason1:this.imgReason2},i([d([cc.Node])],e.prototype,"listAvatar",void 0),i([d(cc.Node)],e.prototype,"btnAgain",void 0),i([d(cc.Label)],e.prototype,"score",void 0),i([d(cc.Sprite)],e.prototype,"spReason",void 0),i([d(cc.SpriteFrame)],e.prototype,"imgReason1",void 0),i([d(cc.SpriteFrame)],e.prototype,"imgReason2",void 0),i([f],e)}(c.PopupBase);n.default=h,cc._RF.pop()},{"../../commonScripts/core/SceneNavigator":"SceneNavigator","../../commonScripts/popups/PopupBase":"PopupBase","../../commonScripts/utils/Utils":"Utils","../manager/GameCtr":"GameCtr","../manager/RoomManager":"RoomManager"}],ModalSound:[function(t,e,n){"use strict";cc._RF.push(e,"7988bWUP65Jro9XGKYd9zS5","ModalSound");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../commonScripts/popups/PopupBase"),a=t("../components/Switch"),s=t("../../commonScripts/core/AudioPlayer"),u=cc._decorator,l=u.ccclass,p=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.switchSound=null,e.switchEffect=null,e}return r(e,t),e.prototype.start=function(){var t=this;this.switchEffect.flag=s.default.effectVolume>0,this.switchSound.flag=s.default.musicVolume>0,this.switchEffect.node.on("trigger",function(){s.default.setEffectVolume(t.switchEffect.flag?1:0)}),this.switchSound.node.on("trigger",function(){s.default.setMusicVolume(t.switchSound.flag?1:0)})},i([p(a.default)],e.prototype,"switchSound",void 0),i([p(a.default)],e.prototype,"switchEffect",void 0),i([l],e)}(c.PopupBase);n.default=f,cc._RF.pop()},{"../../commonScripts/core/AudioPlayer":"AudioPlayer","../../commonScripts/popups/PopupBase":"PopupBase","../components/Switch":"Switch"}],NodeUtil:[function(t,e,n){"use strict";cc._RF.push(e,"6a4f1RYN+FBcIFqzIRcA22Q","NodeUtil"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.getRelativePosition=function(t,e){var n=(t.getParent()||t).convertToWorldSpaceAR(t.getPosition());return e.convertToNodeSpaceAR(n)},t.isPosOnNodeRect=function(t,e){var n=e.convertToNodeSpaceAR(t);return Math.abs(n.x)<e.width/2&&Math.abs(n.y)<e.height/2},t.areNodesOverlap=function(t,e,n){void 0===n&&(n=!1);var o=e.getBoundingBoxToWorld(),r=t.getBoundingBoxToWorld();return n?o.containsRect(r):o.intersects(r)},t}();n.default=o,cc._RF.pop()},{}],ObjectUtil:[function(t,e,n){"use strict";cc._RF.push(e,"37d1cgCd7dNdaY+l063Vy3g","ObjectUtil"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.isObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)},t.deepCopy=function(t){if(null==t||"object"!=typeof t)return t;var e=null;if(t instanceof Date)return(e=new Date).setTime(t.getTime()),e;if(t instanceof Array){e=[];for(var n=0,o=t.length;n<o;n++)e[n]=this.deepCopy(t[n]);return e}if(t instanceof Object){for(var r in e={},t)t.hasOwnProperty(r)&&(e[r]=this.deepCopy(t[r]));return e}console.warn("\u4e0d\u652f\u6301\u7684\u7c7b\u578b\uff1a"+e)},t.copy=function(t){return JSON.parse(JSON.stringify(t))},t}();n.default=o,cc._RF.pop()},{}],PROTOCLE:[function(t,e,n){"use strict";cc._RF.push(e,"a506foIssxNPYyFMn9jw5sQ","PROTOCLE"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.CLIENT={MATCH:"MATCH",RECONNECT:"RECONNECT",ANNOUNCE:"ANNOUNCE",VOTE:"VOTE",CHAT:"CHAT",FINISH_TASK:"FINISH_TASK",DO_TASK13:"DO_TASK13",KILL:"KILL",DESTROY:"DESTROY",JUMP_UNDER:"JUMP_UNDER",UPDATE_LOCATION:"UPDATE_LOCATION",PLAY_ANIMATION:"PLAY_ANIMATION",UPDATE_USER_DATA:"UPDATE_USER_DATA",GAME_START:"GAME_START",UNDER:"UNDER",PING:"PING",KILLER_DO_DESTROY:"KILLER_DO_DESTROY",DESTROY_FIXED:"DESTROY_FIXED",EXIT:"EXIT"},t.SERVER={EXIT:"EXIT",TASK_FINISH:"TASK_FINISH",DESTROY_FIXED:"DESTROY_FIXED",KILLER_DO_DESTROY:"KILLER_DO_DESTROY",EMER_MEETING:"EMER_MEETING",SHOW_VOTED_RESULT:"SHOW_VOTED_RESULT",KILL:"KILL",VOTED_MAP:"VOTED_MAP",SEARCHING:"SEARCHING",MATCH:"MATCH",RECONNECT:"RECONNECT",ANNOUNCE:"ANNOUNCE",ERROR:"ERROR",MATCH_RESULT:"MATCH_RESULT",CHAT:"CHAT",WAITING_LIST_UPDATE:"WAITING_LIST_UPDATE",GAME_START:"GAME_START",GAME_PRESTART:"GAME_PRESTART",GAME_PRESTART_CANCEL:"GAME_PRESTART_CANCEL",UPDATE_GAME_LIST:"UPDATE_GAME_LIST",UPDATE_USER_INFO:"UPDATE_USER_INFO",VOTED_RESULT:"VOTED_RESULT",RESULT:"RESULT",UPDATE_LOCATION:"UPDATE_LOCATION",PLAY_ANIMATION:"PLAY_ANIMATION",UPDATE_USER_DATA:"UPDATE_USER_DATA",UNDER:"UNDER",GAME_TASK_PROGRESS:"GAME_TASK_PROGRESS",PING:"PING"},t}();n.default=o,cc._RF.pop()},{}],PopupBase:[function(t,e,n){"use strict";cc._RF.push(e,"c2f06+aR+1Byqp5072koQ9e","PopupBase");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0}),n.PopupBase=void 0;var c=t("../core/PopupManager"),a=t("../core/AudioPlayer"),s=cc._decorator,u=s.ccclass,l=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.background=null,e.main=null,e.closer=null,e.blocker=null,e.animTime=.3,e.options=null,e.finishCallback=null,e}return r(e,t),e.prototype.onShow=function(){},e.prototype.onHide=function(){},e.prototype.show=function(t){var e=this;this.options=t,this.background.opacity=0,this.background.active=!0,this.main.scale=0,this.main.active=!0,this.node.active=!0,this.closer&&this.closer.on(cc.Node.EventType.TOUCH_START,function(){c.default.hideCurrent()},this),this.init(this.options),this.updateDisplay(this.options),cc.tween(this.background).to(.8*this.animTime,{opacity:200}).start(),cc.tween(this.main).to(this.animTime,{scale:1},{easing:"backOut"}).call(function(){e.onShow&&e.onShow()}).start()},e.prototype.hide=function(){var t=this;this.node?(this.blocker||(this.blocker=new cc.Node("blocker"),this.blocker.addComponent(cc.BlockInputEvents),this.blocker.setParent(this.node),this.blocker.setContentSize(this.node.getContentSize())),this.blocker.active=!0,a.default.playEffectByUrl("sound/modal"),cc.tween(this.background).delay(.2*this.animTime).to(.8*this.animTime,{opacity:0}).call(function(){t.background.active=!1}).start(),cc.tween(this.main).to(this.animTime,{scale:0},{easing:"backIn"}).call(function(){t.blocker.active=!1,t.main.active=!1,t.node.active=!1,t.onHide&&t.onHide(),t.finishCallback&&t.finishCallback()}).start()):this.finishCallback&&this.finishCallback()},e.prototype.init=function(){},e.prototype.updateDisplay=function(){},e.prototype.setFinishCallback=function(t){this.finishCallback=t},i([l({type:cc.Node,tooltip:!1})],e.prototype,"background",void 0),i([l({type:cc.Node,tooltip:!1})],e.prototype,"main",void 0),i([l({type:cc.Node,tooltip:!1})],e.prototype,"closer",void 0),i([u],e)}(cc.Component);n.PopupBase=p,cc._RF.pop()},{"../core/AudioPlayer":"AudioPlayer","../core/PopupManager":"PopupManager"}],PopupManager:[function(t,e,n){"use strict";cc._RF.push(e,"15ab0jOl7dGf7tdlv1LrVUE","PopupManager");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function c(t){try{s(o.next(t))}catch(e){i(e)}}function a(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(c,a)}s((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,r,i,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,o=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){c.label=i[1];break}if(6===i[0]&&c.label<r[1]){c.label=r[1],r=i;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(i);break}r[2]&&c.ops.pop(),c.trys.pop();continue}i=e.call(t,c)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.PopupCacheMode=n.PopupShowResult=void 0;var i,c,a=t("../popups/PopupBase"),s=function(){function t(){}return Object.defineProperty(t,"prefabMap",{get:function(){return this._prefabMap},enumerable:!1,configurable:!0}),Object.defineProperty(t,"nodeMap",{get:function(){return this._nodeMap},enumerable:!1,configurable:!0}),Object.defineProperty(t,"queue",{get:function(){return this._queue.filter(function(t){return t.popup&&t.popup.isValid})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"current",{get:function(){return this._current&&this._current.popup&&this._current.popup.isValid?this._current:null},enumerable:!1,configurable:!0}),t.show=function(t,e,n,s){var u=this;return void 0===e&&(e=null),void 0===n&&(n=c.Normal),void 0===s&&(s=!1),new Promise(function(c){return o(u,void 0,void 0,function(){var u,l,p,f=this;return r(this,function(d){switch(d.label){case 0:return this.current||this.lockedForNext?(this.push(t,e,n,s),[2,c(i.Wait)]):(this._current={path:t,options:e,mode:n},u=this.getNodeFromCache(t),cc.isValid(u)?[3,2]:(this.loadStartCallback&&this.loadStartCallback(),[4,this.load(t)]));case 1:if(l=d.sent(),this.loadFinishCallback&&this.loadFinishCallback(),!cc.isValid(l))return cc.warn("[PopupManager]","\u5f39\u7a97\u52a0\u8f7d\u5931\u8d25",t),this._current=null,[2,c(i.Fail)];u=cc.instantiate(l),d.label=2;case 2:return this._current.node=u,u.setParent(this.container||cc.Canvas.instance.node),u.setSiblingIndex(cc.macro.MAX_ZINDEX),(p=u.getComponent(a.PopupBase))?(this._current.popup=p,p.setFinishCallback(function(){return o(f,void 0,void 0,function(){var e=this;return r(this,function(o){switch(o.label){case 0:return this.lockedForNext=this._queue.length>0,this.recycle(t,u,n),this._current=null,c(i.Done),[4,new Promise(function(t){cc.Canvas.instance.scheduleOnce(t,e.interval)})];case 1:return o.sent(),this.next(),[2]}})})}),p.show(e)):(u.active=!0,c(i.Dirty)),[2]}})})})},t.hideCurrent=function(){this._current&&(this._current.popup?this._current.popup.hide():this._current.node&&(this._current.node.destroy(),this.release(this._current.path),this._current=null))},t.getNodeFromCache=function(t){if(this._nodeMap.has(t)){var e=this._nodeMap.get(t);if(cc.isValid(e))return e;this._nodeMap.delete(t)}if(this._prefabMap.has(t)){var n=this._prefabMap.get(t);if(cc.isValid(n))return cc.instantiate(n);this._prefabMap.delete(t)}return null},t.next=function(){if(!this._current&&0!==this._queue.length){var t=this._queue.shift();this.lockedForNext=!1,this.show(t.path,t.options,t.mode)}},t.clearAllModal=function(){this._queue=[],this._current&&this._current.popup&&this._current.popup.hide(),this.lockedForNext=!1},t.push=function(t,e,n,o){void 0===e&&(e=null),void 0===n&&(n=c.Normal),void 0===o&&(o=!1),this._current||this.lockedForNext?o?this._queue.unshift({path:t,options:e,mode:n}):this._queue.push({path:t,options:e,mode:n}):this.show(t,e,n)},t.recycle=function(t,e,n){switch(n){case c.Once:e.destroy(),this._nodeMap.has(t)&&this._nodeMap.delete(t),this.release(t);break;case c.Normal:e.destroy(),this._nodeMap.has(t)&&this._nodeMap.delete(t);break;case c.Frequent:e.removeFromParent(!1),this._nodeMap.has(t)||this._nodeMap.set(t,e)}},t.load=function(t){var e=this;return new Promise(function(n){cc.resources.load(t,function(o,r){o?n(null):(r.addRef(),e._prefabMap.set(t,r),n(r))})})},t.release=function(t){var e=this._nodeMap.get(t);e&&(this._nodeMap.delete(t),cc.isValid(e)&&e.destroy(),e=null);var n=this._prefabMap.get(t);n&&(this._prefabMap.delete(t),n.decRef(),n=null)},t._prefabMap=new Map,t._nodeMap=new Map,t._queue=[],t._current=null,t.lockedForNext=!1,t.container=null,t.interval=.1,t.loadStartCallback=null,t.loadFinishCallback=null,t}();n.default=s,function(t){t[t.Done=1]="Done",t[t.Fail=2]="Fail",t[t.Wait=3]="Wait",t[t.Dirty=4]="Dirty"}(i=n.PopupShowResult||(n.PopupShowResult={})),function(t){t[t.Once=1]="Once",t[t.Normal=2]="Normal",t[t.Frequent=3]="Frequent"}(c=n.PopupCacheMode||(n.PopupCacheMode={})),window.PopupManager=s,cc._RF.pop()},{"../popups/PopupBase":"PopupBase"}],Progress:[function(t,e,n){"use strict";cc._RF.push(e,"4e2be3Z10tEP4g5gpK2tfNl","Progress");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.img=null,e.maxWidth=600,e._progress=0,e}return r(e,t),Object.defineProperty(e.prototype,"progress",{get:function(){return this._progress},set:function(t){t>1&&(t=1),t<0&&(t=0),this._progress=t,this.label&&(this.label.string=""+t),this.img.width=this.maxWidth*t},enumerable:!1,configurable:!0}),e.prototype.start=function(){},i([s(cc.Label)],e.prototype,"label",void 0),i([s(cc.Node)],e.prototype,"img",void 0),i([s],e.prototype,"maxWidth",void 0),i([s],e.prototype,"progress",null),i([a],e)}(cc.Component);n.default=u,cc._RF.pop()},{}],PromiseUtil:[function(t,e,n){"use strict";cc._RF.push(e,"d432bm6QRpJuagEdp7fjK3q","PromiseUtil"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.wait=function(t){return new Promise(function(e){return cc.Canvas.instance.scheduleOnce(e,t)})},t}();n.default=o,cc._RF.pop()},{}],QuanOperate:[function(t,e,n){"use strict";cc._RF.push(e,"02d7dI+25FBtIXjvYDhubVd","QuanOperate");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("./EachArea"),a=t("../../commonScripts/utils/Utils"),s=t("../manager/SocketManager"),u=t("../../commonScripts/core/EventManager"),l=t("../manager/RoomManager"),p=t("../../commonScripts/core/AudioPlayer"),f=cc._decorator,d=f.ccclass,h=f.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.userId=-1,e.wrapQuan=null,e.ctrQuan=null,e.updateLocation=a.default.throttle(function(){if(e.movingTarget){var t=e.movingTarget.position;s.default.sendGameMessage("updateLocation",{x:t.x,y:t.y,active:e.movingTarget.active})}},60),e.flagCanMove=!0,e}return r(e,t),Object.defineProperty(e.prototype,"isSelf",{get:function(){return this.userId==l.default.userId},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.listen()},e.prototype.doUpdateLocation=function(t){var e=t.x,n=t.y,o=t.active,r=t.userId;this.userId==r&&r!=l.default.userId&&(console.log("update",r),this.movingTarget||(this.movingTarget=cc.instantiate(this.wrapQuan),this.node.addChild(this.movingTarget)),this.movingTarget.getComponent(c.EachArea).setData(this.ctrQuan.datasource),this.movingTarget.opacity=180,this.movingTarget.scale=1,this.movingTarget.position=new cc.Vec3(e,n),o?(this.movingTarget.active=!0,this.wrapQuan.active=!1):(this.movingTarget.active=!1,this.wrapQuan.active=!0))},e.prototype.setData=function(t){this.ctrQuan.setData(t),this.movingTarget&&this.movingTarget.getComponent(c.EachArea).setData(t)},e.prototype.listen=function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_START,function(){t.flagCanMove&&t.isSelf&&(t.flagCanMove=!1,t.movingTarget||(t.movingTarget=cc.instantiate(t.wrapQuan),t.node.addChild(t.movingTarget)),p.default.playEffectByUrl("sound/dismiss1"),t.movingTarget.getComponent(c.EachArea).setData(t.ctrQuan.datasource),t.wrapQuan.active=!1,t.movingTarget.active=!0,t.movingTarget.scale=1,t.movingTarget.position=t.wrapQuan.position)}),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(e){if(t.isSelf&&t.movingTarget&&t.movingTarget.active){var n=e.touch.getLocation(),o=t.node.convertToNodeSpaceAR(n);t.movingTarget.position=new cc.Vec3(o.x,o.y),t.updateLocation()}}),this.node.on(cc.Node.EventType.TOUCH_END,this.moveEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.moveEnd,this),u.default.on("game/moveQuanBack",this.moveQuanBack,this),u.default.on("game/doUpdateLocation",this.doUpdateLocation,this)},e.prototype.moveEnd=function(t){if(this.movingTarget&&this.movingTarget.active){var e=t.touch.getLocation();this.node.emit("moveEnd",e,this.ctrQuan.datasource,this.userId)}},e.prototype.moveQuanBack=function(t,e){var n=this;if(void 0===t&&(t=!0),e==this.userId&&(console.log("moveQuanBack",e),this.movingTarget)){var o=function(){n.flagCanMove=!0,n.movingTarget.active=!1,n.wrapQuan.active=!0,n.updateLocation()};t?(p.default.playEffectByUrl("sound/dismiss1"),cc.tween(this.movingTarget).to(.1,{x:this.wrapQuan.x,y:this.wrapQuan.y,scale:this.wrapQuan.scale}).call(function(){o()}).start()):o()}},i([h({type:cc.Node})],e.prototype,"wrapQuan",void 0),i([h({type:c.EachArea})],e.prototype,"ctrQuan",void 0),i([d],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../../commonScripts/core/AudioPlayer":"AudioPlayer","../../commonScripts/core/EventManager":"EventManager","../../commonScripts/utils/Utils":"Utils","../manager/RoomManager":"RoomManager","../manager/SocketManager":"SocketManager","./EachArea":"EachArea"}],RegexUtil:[function(t,e,n){"use strict";cc._RF.push(e,"beb77pA7FhDiqHpXkyB64wf","RegexUtil"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.isDWORD=function(t){return/[^\x00-\xff]/.test(t)},t}();n.default=o,cc._RF.pop()},{}],RoomManager:[function(t,e,n){"use strict";cc._RF.push(e,"f9a2bq76+tCHKaxwzewS+EO","RoomManager");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function c(t){try{s(o.next(t))}catch(e){i(e)}}function a(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(c,a)}s((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,r,i,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,o=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){c.label=i[1];break}if(6===i[0]&&c.label<r[1]){c.label=r[1],r=i;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(i);break}r[2]&&c.ops.pop(),c.trys.pop();continue}i=e.call(t,c)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./SocketManager"),c=t("../../commonScripts/utils/Utils"),a=function(){function t(){}return Object.defineProperty(t,"userOppo",{get:function(){return 1==this.dataSelf.belong?this.listBlue[0]:this.listRed[0]},enumerable:!1,configurable:!0}),t.getNumByUserId=function(e){var n=t.userList.find(function(t){return t.userId==e});return t.userList.indexOf(n)+1},Object.defineProperty(t,"canPlay",{get:function(){var t=this,e=this.userList.find(function(e){return e.userId==t.userId});return e&&e.userId==this.currentUser&&!e.isAutoPlay},enumerable:!1,configurable:!0}),Object.defineProperty(t,"dataSelf",{get:function(){var t=this;return this.userList.find(function(e){return e.userId==t.userId})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"inGame",{get:function(){var t=this;return!!this.userList.find(function(e){return e.userId==t.userId})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"userList",{get:function(){return this.listRed.concat(this.listBlue)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"isApp",{get:function(){return 2!=+c.default.getQueryVariable("test")},enumerable:!1,configurable:!0}),t.hideLoading=function(){this.isApp&&kk.H5LoadingSuccess()},Object.defineProperty(t,"env",{get:function(){return+c.default.getQueryVariable("test")},enumerable:!1,configurable:!0}),t.doInit=function(){return o(this,void 0,void 0,function(){var t=this;return r(this,function(){return[2,new Promise(function(e){t.isHost=!!+c.default.getQueryVariable("isHost"),e(null)})]})})},Object.defineProperty(t,"isHost",{get:function(){return this._isHost},set:function(t){t!=this.isHost&&(this._isHost=t)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"userId",{get:function(){return+c.default.getQueryVariable("userId")||1},enumerable:!1,configurable:!0}),Object.defineProperty(t,"roomId",{get:function(){return+c.default.getQueryVariable("roomId")||1},enumerable:!1,configurable:!0}),t.init=function(t){void 0===t&&(t=this.isHost),this.isHost=t,i.default.sendMessage("joinRoom",{isHost:t})},t.getGameInfoByUserId=function(e){return t.userList.find(function(t){return t.userId==e})},t.roundPeople=10,t.currentUser=0,t.leftSec=0,t.listRed=[],t.listBlue=[],t.ruleOpened=!1,t.connect=!1,t._isHost=!1,t}();n.default=a,window.RoomManager=a,cc._RF.pop()},{"../../commonScripts/utils/Utils":"Utils","./SocketManager":"SocketManager"}],SceneGame:[function(t,e,n){"use strict";cc._RF.push(e,"f4bb0zYkA5IurPPvYqSFyI9","SceneGame");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},c=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function c(t){try{s(o.next(t))}catch(e){i(e)}}function a(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(c,a)}s((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,r,i,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,o=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){c.label=i[1];break}if(6===i[0]&&c.label<r[1]){c.label=r[1],r=i;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(i);break}r[2]&&c.ops.pop(),c.trys.pop();continue}i=e.call(t,c)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.SceneGame=void 0;var s=t("../manager/GameCtr"),u=t("../manager/SocketManager"),l=t("../../commonScripts/core/EventManager"),p=t("../../commonScripts/utils/Utils"),f=t("../manager/RoomManager"),d=t("../../commonScripts/core/SceneNavigator"),h=t("../components/EachArea"),y=t("../components/QuanOperate"),g=t("../components/Combo"),m=t("../../commonScripts/core/PopupManager"),v=t("../../commonScripts/core/AudioPlayer"),_=cc._decorator,b=_.ccclass,w=_.property,O=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.imgClockWrap=null,e.imgClockInner=null,e.imgClockInner1=null,e.imgClockInner2=null,e.imgClock1=null,e.imgClock2=null,e.imgPrg=null,e.prefabQuan=null,e.moveOffsetY=70,e.map=[],e.wrapInner=null,e.quanLeft=null,e.quanRight=null,e.btnRule=null,e.btnExit=null,e.btnSound=null,e.flagCreatingOppo=!1,e.flagCanMove=!0,e}return r(e,t),Object.defineProperty(e.prototype,"sec",{get:function(){return s.default.sec},set:function(t){t<0&&(t=0),s.default.sec=t},enumerable:!1,configurable:!0}),e.prototype.update=function(){var t=(new Date).getTime(),e=s.default.maxSec-Math.ceil((t-s.default.startTime)/1e3);e>=0&&(this.imgPrg.width=352*(s.default.maxSec-(t-s.default.startTime)/1e3)/s.default.maxSec,this.sec=e,e<10&&(this.imgClockInner.spriteFrame=e%2==0?this.imgClockInner1:this.imgClockInner2,this.imgClockWrap.spriteFrame=e%2==0?this.imgClock1:this.imgClock2))},e.prototype.start=function(){this.listen()},e.prototype.updateInfo=function(t,e){t.getChildByName("name").getComponent(cc.Label).string=e.nickname;var n=t.getChildByName("avatar").getChildByName("avatar").getChildByName("inner").getComponent(cc.Sprite);p.default.setSpImgFromNet(n,e.avatar)},e.prototype.updateInfoList=function(){this.btnExit.active=f.default.isHost,this.updateInfo(this.quanLeft.node,f.default.listRed[0]),this.updateInfo(this.quanRight.node,f.default.listBlue[0])},e.prototype.onEnable=function(){this.initQuan(),this.updateRings(),this.updateScore(),this.updateInfoList()},e.prototype.updateRings=function(){for(var t in s.default.playerRings){var e=s.default.playerRings[t],n=1==f.default.getGameInfoByUserId(t).belong?this.quanLeft:this.quanRight;n.setData(e),n.userId=+t}},e.prototype.onDestroy=function(){d.default},e.prototype.playAniXiao=function(t,e,n,o){var r=this;void 0===o&&(o=!0),o&&v.default.playEffectByUrl("sound/dismiss2");var i="";return 1==t?i="dian"+(3*n+e+1):2==t?i="heng"+(n+1):3==t?i="shu"+(e+1):4==t?i="xie1":5==t&&(i="xie2"),!!i&&(cc.resources.load("animate/taoquan",sp.SkeletonData,function(t,e){var n=new cc.Node;n.parent=r.node,n.position=new cc.Vec3(0,-30);var o=n.addComponent(sp.Skeleton);o.premultipliedAlpha=!0,o.skeletonData=e,o.setAnimation(0,i,!1),o.setCompleteListener(function(){n.active=!1,r.node.removeChild(n)})}),!0)},e.prototype.listen=function(){var t=this;this.btnSound.on(cc.Node.EventType.TOUCH_END,function(){m.default.show("modal/ModalSound")},this),this.btnExit.on(cc.Node.EventType.TOUCH_END,function(){m.default.show("modal/ModalMessage",{content:"\u662f\u5426\u786e\u5b9a\u9000\u51fa\u6e38\u620f\uff1f",onSure:function(){u.default.sendMessage("resetGame",{})}})},this),this.btnRule.on(cc.Node.EventType.TOUCH_END,function(){m.default.show("modal/ModalRule")},this),l.default.on("updateRings",function(){t.updateRings()},this),this.quanLeft.node.on("moveEnd",this.moveEnd,this),this.quanRight.node.on("moveEnd",this.moveEnd,this),l.default.on("updateBoard",function(){t.resetBoard(s.default.dataList)},this),l.default.on("showCombo",function(e){var n=e.currentTarget;t.showCombo(n)},this),l.default.on("showBoardAddRing",this.showBoardAddRing,this)},e.prototype.updateScore=function(){this.node.getChildByName("score").getComponent(cc.Label).string=""+s.default.score},e.prototype.showCombo=function(t){return c(this,void 0,void 0,function(){var e,n,o;return a(this,function(r){switch(r.label){case 0:return v.default.playEffectByUrl("sound/combo"),[4,p.default.getPrefab("prefab/combo")];case 1:return e=r.sent(),n=cc.instantiate(e),o=n.getComponent(g.default),this.node.addChild(n),o.showNum(t),[2]}})})},e.prototype.showBoardAddRing=function(t){var e=this,n=t.afterPutData,o=(t.dataTarget,t.dispelledList),r=t.type,i=t.addScore,c=void 0===i?0:i,a=t.comboCount,u=t.userId;if(l.default.emit("game/moveQuanBack",!1,u),0!=r){if(s.default.dataList=n,l.default.emit("updateBoard"),console.log(a,"comboCount"),o.forEach(function(t){e.playAniXiao(t.dir,t.x,t.y,1==a)}),o.length>1){var f=new cc.Node,d=f.addComponent(cc.Sprite);p.default.setSpImg(d,"img/game/good"),f.scale=.65,this.node.addChild(f),f.opacity=0,f.y=30,cc.tween(f).to(.2,{opacity:255,y:120}).delay(1).to(.2,{opacity:0,y:30}).call(function(){f.parent=null}).start()}else 0==o.length&&v.default.playEffectByUrl("sound/gua");if(c&&o.length>0){var h=new cc.Node,y=h.addComponent(cc.Label);p.default.setSpFont(y,"fnt/scoreadd"),y.fontSize=100,y.string="+"+c,this.node.addChild(h),h.opacity=0,h.y=305,h.x=-16,h.anchorX=0,cc.tween(h).delay(.2).to(.2,{opacity:255,y:355}).delay(.6).to(.2,{opacity:0,y:305}).call(function(){h.parent=null}).start()}a>1&&this.showCombo(a),this.updateScore()}},e.prototype.resetBoard=function(t){var e=this;t.forEach(function(t,n){t.forEach(function(t,o){e.map[3*n+o].setData(t)})})},e.prototype.getItemByXY=function(t,e){if(t>=0&&t<3&&e>=0&&e<3)return this.map[3*e+t]},e.prototype.initQuan=function(){return c(this,void 0,void 0,function(){var t,e,n,o,r,i,c;return a(this,function(){for((t=this.wrapInner).removeAllChildren(),e=t.width,n=t.height,this.eachW=e/3,this.eachH=n/3,this.startX=-e/2+this.eachW/2,this.startY=-n/2+this.eachH/2,o=0;o<3;o++)for(r=0;r<3;r++)i=cc.instantiate(this.prefabQuan),t.addChild(i),i.position=new cc.Vec3(this.startX+o*this.eachW,this.startY+this.eachH*(2-r)),(c=i.getComponent(h.EachArea)).setData(s.default.dataList[r][o]),this.map[3*r+o]=c;return[2]})})},e.prototype.moveEnd=function(t,e,n){var o=this.node.convertToNodeSpaceAR(t),r=Math.floor((o.x-this.startX+this.eachW/2)/this.eachW),i=2-Math.floor((o.y-this.startY+this.eachH/2)/this.eachH),c=this.getItemByXY(r,i);c&&Math.abs(o.x-c.node.x)<100&&Math.abs(o.y+this.moveOffsetY-c.node.y)<100&&0!=s.default.addQuan(r,i,e).type?u.default.sendGameMessage("putQuan",{rings:e,y:i,x:r}):l.default.emit("game/moveQuanBack",!0,n)},i([w(cc.Sprite)],e.prototype,"imgClockWrap",void 0),i([w(cc.Sprite)],e.prototype,"imgClockInner",void 0),i([w(cc.SpriteFrame)],e.prototype,"imgClockInner1",void 0),i([w(cc.SpriteFrame)],e.prototype,"imgClockInner2",void 0),i([w(cc.SpriteFrame)],e.prototype,"imgClock1",void 0),i([w(cc.SpriteFrame)],e.prototype,"imgClock2",void 0),i([w(cc.Node)],e.prototype,"imgPrg",void 0),i([w(cc.Prefab)],e.prototype,"prefabQuan",void 0),i([w({type:cc.Node})],e.prototype,"wrapInner",void 0),i([w(y.default)],e.prototype,"quanLeft",void 0),i([w(y.default)],e.prototype,"quanRight",void 0),i([w(cc.Node)],e.prototype,"btnRule",void 0),i([w(cc.Node)],e.prototype,"btnExit",void 0),i([w(cc.Node)],e.prototype,"btnSound",void 0),i([b],e)}(cc.Component);n.SceneGame=O,cc._RF.pop()},{"../../commonScripts/core/AudioPlayer":"AudioPlayer","../../commonScripts/core/EventManager":"EventManager","../../commonScripts/core/PopupManager":"PopupManager","../../commonScripts/core/SceneNavigator":"SceneNavigator","../../commonScripts/utils/Utils":"Utils","../components/Combo":"Combo","../components/EachArea":"EachArea","../components/QuanOperate":"QuanOperate","../manager/GameCtr":"GameCtr","../manager/RoomManager":"RoomManager","../manager/SocketManager":"SocketManager"}],SceneLoading:[function(t,e,n){"use strict";cc._RF.push(e,"f3d20U/A8REgYhpDmeXfw4R","SceneLoading");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},c=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function c(t){try{s(o.next(t))}catch(e){i(e)}}function a(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(c,a)}s((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,r,i,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,o=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){c.label=i[1];break}if(6===i[0]&&c.label<r[1]){c.label=r[1],r=i;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(i);break}r[2]&&c.ops.pop(),c.trys.pop();continue}i=e.call(t,c)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../commonScripts/Progress"),u=t("../manager/SocketManager"),l=t("../manager/RoomManager"),p=t("../../commonScripts/core/AudioPlayer"),f=cc._decorator,d=f.ccclass,h=f.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prg=null,e}return r(e,t),e.prototype.start=function(){var t=this;l.default.hideLoading(),cc.resources.loadDir("/",function(e,n){console.log("\u52a0\u8f7d\u4e2d...",(e/n*100).toFixed(2)),t.prg.progress=e/n},function(){return c(t,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return p.default.playMusicByUrl("sound/bgm"),[4,l.default.doInit()];case 1:return t.sent(),u.default.init(),[2]}})})})},i([h(s.default)],e.prototype,"prg",void 0),i([d],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../../commonScripts/Progress":"Progress","../../commonScripts/core/AudioPlayer":"AudioPlayer","../manager/RoomManager":"RoomManager","../manager/SocketManager":"SocketManager"}],SceneNavigator:[function(t,e,n){"use strict";cc._RF.push(e,"6becacpVhlAkZK1HTEB7zJO","SceneNavigator"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./EventManager"),r=t("./PopupManager"),i=function(){function t(){}return Object.defineProperty(t,"history",{get:function(){return this._history},enumerable:!1,configurable:!0}),Object.defineProperty(t,"param",{get:function(){return this._param},enumerable:!1,configurable:!0}),Object.defineProperty(t,"curScene",{get:function(){return this._curScene},enumerable:!1,configurable:!0}),t.setHome=function(t){this._history=[t]},t.goHome=function(t){var e=this;this._param=null;var n=this._history[0];cc.director.loadScene(n,function(){e._history=[n],e._curScene=n,e._param=t})},t.go=function(t,e){var n=this;return new Promise(function(i){n._param=null,o.default.removeAll(),r.default.clearAllModal(),cc.director.loadScene(t,function(){n._history.push(t),n._curScene=t,n._param=e,i()})})},t.back=function(t){var e=this;if(this._history.length>1){this._param=null;var n=this._history[this._history.length-2];cc.director.loadScene(n,function(){e._history.pop(),e._curScene=n,e._param=t})}},t._history=[],t._param=null,t._curScene=null,t}();n.default=i,cc._RF.pop()},{"./EventManager":"EventManager","./PopupManager":"PopupManager"}],SceneStart:[function(t,e,n){"use strict";cc._RF.push(e,"a2937fv8MtIo7G9PTH09Krl","SceneStart");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},c=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function c(t){try{s(o.next(t))}catch(e){i(e)}}function a(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(c,a)}s((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,r,i,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,o=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){c.label=i[1];break}if(6===i[0]&&c.label<r[1]){c.label=r[1],r=i;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(i);break}r[2]&&c.ops.pop(),c.trys.pop();continue}i=e.call(t,c)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../commonScripts/ListRender"),u=t("../../commonScripts/core/EventManager"),l=t("../manager/RoomManager"),p=t("../manager/SocketManager"),f=t("../manager/GameManager"),d=t("../../commonScripts/utils/Utils"),h=cc._decorator,y=h.ccclass,g=h.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btn=null,e.listAvatar=null,e}return r(e,t),e.prototype.onLoad=function(){return c(this,void 0,void 0,function(){var t=this;return a(this,function(){return this.listAvatar.renderHandler=function(e,n,o){return c(t,void 0,void 0,function(){var t,r,i,c;return a(this,function(){return e.x=120*o,e.y=0,t=e.getChildByName("iconCheck"),r=e.getChildByName("avatar"),i=r.getChildByName("inner"),c=i.getComponent(cc.Sprite),n.blank?(i.active=!1,t.active=!1):(i.active=!0,t.active=!0,d.default.setSpImgFromNet(c,n.avatar)),[2]})})},[2]})})},e.prototype.start=function(){this.listen(),this.updateBtn(),this.setAvatarList()},e.prototype.setAvatarList=function(){this.listAvatar.listData=l.default.userList.concat([{blank:!0},{blank:!0}]).slice(0,2),this.listAvatar.node.width=120*(this.listAvatar.listData.length-1)},e.prototype.listen=function(){var t=this;u.default.on("game/updateUserList",function(){t.updateBtn(),t.setAvatarList()}),this.btn.on(cc.Node.EventType.TOUCH_END,function(){var t=l.default.isHost,e=l.default.inGame;t?e?p.default.sendMessage("startGame",{gameType:f.default.gameType}):p.default.sendMessage("joinGame",{roomId:l.default.roomId}):e?p.default.sendMessage("exitRoom"):p.default.sendMessage("joinGame",{roomId:l.default.roomId})},this)},e.prototype.updateBtn=function(){return c(this,void 0,void 0,function(){var t,e,n,o,r,i,c;return a(this,function(a){switch(a.label){case 0:return t=this.btn.getComponent(cc.Sprite),e=this.btn.getChildByName("txt"),n=e.getComponent(cc.Label),o=l.default.isHost,r=l.default.inGame,i="img/btnYellow",o?r?(i="img/btnBlue",n.string="\u5f00\u59cb"):(i="img/btnYellow",n.string="\u51c6\u5907"):r?(i="img/btnBlue",n.string="\u9000\u51fa"):(i="img/btnYellow",n.string="\u51c6\u5907"),c=t,[4,d.default.load(i,cc.SpriteFrame)];case 1:return c.spriteFrame=a.sent(),[2]}})})},i([g(cc.Node)],e.prototype,"btn",void 0),i([g(s.default)],e.prototype,"listAvatar",void 0),i([y],e)}(cc.Component);n.default=m,cc._RF.pop()},{"../../commonScripts/ListRender":"ListRender","../../commonScripts/core/EventManager":"EventManager","../../commonScripts/utils/Utils":"Utils","../manager/GameManager":"GameManager","../manager/RoomManager":"RoomManager","../manager/SocketManager":"SocketManager"}],ScreenAdapter:[function(t,e,n){"use strict";cc._RF.push(e,"65507SO23dImIGJ/JRkpZmV","ScreenAdapter");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("./core/EventManager"),a=t("./constants/Events"),s=cc._decorator.ccclass,u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onLoad=function(){var t=this;cc.view.setResizeCallback(function(){return t.onResize()})},e.prototype.start=function(){this.adapt()},e.prototype.onResize=function(){c.default.emit(a.VIEW_RESIZE),this.adapt()},e.prototype.adapt=function(){var t=cc.winSize.width/cc.winSize.height,e=cc.Canvas.instance.designResolution.width/cc.Canvas.instance.designResolution.height;t<=1&&t<=e?this.setFitWidth():this.setFitHeight()},e.prototype.setFitHeight=function(){cc.Canvas.instance.fitHeight=!0,cc.Canvas.instance.fitWidth=!1},e.prototype.setFitWidth=function(){cc.Canvas.instance.fitHeight=!1,cc.Canvas.instance.fitWidth=!0},i([s],e)}(cc.Component);n.default=u,cc._RF.pop()},{"./constants/Events":"Events","./core/EventManager":"EventManager"}],SocketManager:[function(t,e,n){"use strict";cc._RF.push(e,"b5fdcv4o69BPKaROoc10KQa","SocketManager");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function c(t){try{s(o.next(t))}catch(e){i(e)}}function a(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(c,a)}s((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,r,i,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,o=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){c.label=i[1];break}if(6===i[0]&&c.label<r[1]){c.label=r[1],r=i;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(i);break}r[2]&&c.ops.pop(),c.trys.pop();continue}i=e.call(t,c)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./RoomManager"),c=t("./GameManager"),a=t("../../commonScripts/core/SceneNavigator"),s=t("../../commonScripts/core/EventManager"),u=t("../../commonScripts/utils/Utils"),l=t("./GameCtr"),p=t("../../commonScripts/core/PopupManager"),f=function(){function t(){}return Object.defineProperty(t,"io",{get:function(){return window.io},enumerable:!1,configurable:!0}),t.init=function(){if(!this.socket){console.log("connect");var t=window.kkUrlConfig[u.default.getQueryVariable("test")?"testHost":"wsHost"];this.socket=this.io(t),this.listen()}},t.listen=function(){this.socket.on("connect",this.onConnect.bind(this)),this.socket.on("message",this.onMessage)},t.onMessage=function(e){return o(this,void 0,void 0,function(){var n,o,c,f,d;return r(this,function(){switch(n=e.type,o=e.data,-1==n.indexOf("updateBoard")&&console.log(e,"\u6536\u5230\u670d\u52a1\u7aef\u6d88\u606f"),n){case"goMicro":i.default.isApp&&kk.joinGameCallBack(i.default.userId);break;case"resCloseRoom":case"resResetGame":case"resClearRoom":a.default.go("scene/start");break;case"resToast":u.default.showToast(o.message);break;case"resLeaveGame":a.default.go("scene/start");break;case"resUpdateUserList":c=o.userList,f=c.listBlue,d=c.listRed,i.default.listRed=d,i.default.listBlue=f,s.default.emit("game/updateUserList");break;case"resUpdateHost":i.default.isHost=o.hostId==i.default.userId,o.userId==i.default.userId&&s.default.emit("game/updateUserList");break;case"reconnect":i.default.connect=!0,o.hostId&&(i.default.isHost=o.hostId==i.default.userId),i.default.roundPeople=o.roundPeople,o.isReconnect?(t.handleInitData(o),a.default.go("scene/game")):(a.default.go("scene/start"),i.default.ruleOpened||(i.default.ruleOpened=!0));break;case"resJoinRoom":o.gameStarting&&o.gameMap;break;case"quanquan/resStartGame":t.handleInitData(o),a.default.go("scene/game");break;case"quanquan/respPutQuan":l.default.playerRings=o.playerRings,l.default.score=o.score,s.default.emit("showBoardAddRing",o),s.default.emit("updateRings");break;case"quanquan/updateLocation":s.default.emit("game/doUpdateLocation",o);break;case"quanquan/quanBack":s.default.emit("game/moveQuanBack",!0,o.userId);break;case"quanquan/result":l.default.score=o.score,p.default.show("modal/ModalResult",o)}return[2]})})},t.handleInitData=function(t){var e=t.gameData;l.default.score=e.score,l.default.playerRings=e.playerRings,l.default.dataList=e.dataList,l.default.startTime=t.startTime,l.default.maxSec=t.totalSec},t.sendMessage=function(t,e){void 0===e&&(e={}),e.userId=i.default.userId,e.roomId=i.default.roomId,e.gameType=c.default.gameType,this.socket.emit("message",{type:t,data:e}),console.log(t,e,"\u53d1\u9001\u6d88\u606f")},t.sendGameMessage=function(t,e){void 0===e&&(e={}),t=c.default.gameType+"/"+t,e.userId=i.default.userId,e.roomId=i.default.roomId,this.socket.emit("message",{type:t,data:e}),console.log(t,e,"\u53d1\u9001\u6e38\u620f\u5185\u6d88\u606f")},t.onConnect=function(){return o(this,void 0,void 0,function(){return r(this,function(){return this.socket.emit("init",{userId:i.default.userId}),i.default.init(),[2]})})},t}();n.default=f,window.SocketManager=f,cc._RF.pop()},{"../../commonScripts/core/EventManager":"EventManager","../../commonScripts/core/PopupManager":"PopupManager","../../commonScripts/core/SceneNavigator":"SceneNavigator","../../commonScripts/utils/Utils":"Utils","./GameCtr":"GameCtr","./GameManager":"GameManager","./RoomManager":"RoomManager"}],StorageUtil:[function(t,e,n){"use strict";cc._RF.push(e,"c2f302Gl/ZNvpjnUP1yfcCU","StorageUtil"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.set=function(t,e){var n="object"==typeof e?JSON.stringify(e):e;cc.sys.localStorage.setItem(t,n)},t.get=function(t,e){void 0===e&&(e=!0);var n=cc.sys.localStorage.getItem(t);if(n){if(e)try{return JSON.parse(n)}catch(o){return n}return n}return null},t.remove=function(t){cc.sys.localStorage.removeItem(t)},t}();n.default=o,cc._RF.pop()},{}],Switch:[function(t,e,n){"use strict";cc._RF.push(e,"7edb5EmZXxB3KmXigx71j5M","Switch");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.img1=null,e.img2=null,e.img=null,e._flag=!1,e}return r(e,t),Object.defineProperty(e.prototype,"flag",{get:function(){return this._flag},set:function(t){this._flag=t,this.img.spriteFrame=t?this.img1:this.img2,this.node.emit("trigger")},enumerable:!1,configurable:!0}),e.prototype.start=function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){t.flag=!t.flag},this)},i([s(cc.SpriteFrame)],e.prototype,"img1",void 0),i([s(cc.SpriteFrame)],e.prototype,"img2",void 0),i([s(cc.Sprite)],e.prototype,"img",void 0),i([s],e.prototype,"flag",null),i([a],e)}(cc.Component);n.default=u,cc._RF.pop()},{}],TimeUtil:[function(t,e,n){"use strict";cc._RF.push(e,"f60a8fKmjFA34Lpgy6hmRZQ","TimeUtil"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.getTargetTimestamp=function(t,e,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0);var o=new Date((new Date).toLocaleDateString()).getTime();return new Date(o+1e3*(3600*t+60*e+n)).getTime()},t.msToHMS=function(t,e,n){void 0===e&&(e=":"),void 0===n&&(n=!0);var o=Math.floor(t/36e5),r=Math.floor((t-36e5*o)/6e4),i=Math.floor((t-36e5*o-6e4*r)/1e3);return""+(0!==o||n?o.toString().padStart(2,"0"):"")+e+r.toString().padStart(2,"0")+e+i.toString().padStart(2,"0")},t.getCurrentTimestamp=function(){return(new Date).getTime()},t}();n.default=o,window.eazax&&(window.eazax.time=o),cc._RF.pop()},{}],Toast:[function(t,e,n){"use strict";cc._RF.push(e,"738e7FW3k5IVpAr0ZzFkImh","Toast");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e}return r(e,t),e.prototype.setData=function(t){this.label.string=t},e.prototype.start=function(){},i([s(cc.Label)],e.prototype,"label",void 0),i([a],e)}(cc.Component);n.default=u,cc._RF.pop()},{}],TweenUtil:[function(t,e,n){"use strict";cc._RF.push(e,"c2d02Gre8pDj7iQWwd7Oa1T","TweenUtil"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.txtTypingAnimate=function(t,e,n){return new Promise(function(o){var r=n/e.length,i=0;cc.Canvas.instance.schedule(function(){i++,t.string=e.substring(0,i),i>=e.length&&o()},r,e.length)})},t.flip=function(t,e,n,o){return new Promise(function(r){var i=e/2;cc.tween(t).parallel(cc.tween().to(i,{scaleX:0},{easing:"sineIn"}),cc.tween().to(i,{skewY:-10})).set({skewY:10}).call(function(){n&&n()}).parallel(cc.tween().to(i,{scaleX:1},{easing:"sineOut"}),cc.tween().to(i,{skewY:0})).call(function(){r(),o&&o()}).start()})},t}();n.default=o,cc._RF.pop()},{}],Utils:[function(t,e,n){"use strict";cc._RF.push(e,"3b606DQUwREo5Tj/8kHGq9r","Utils");var o=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function c(t){try{s(o.next(t))}catch(e){i(e)}}function a(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(c,a)}s((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,r,i,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,o=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){c.label=i[1];break}if(6===i[0]&&c.label<r[1]){c.label=r[1],r=i;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(i);break}r[2]&&c.ops.pop(),c.trys.pop();continue}i=e.call(t,c)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../config/CustomConfig"),a=t("./PromiseUtil"),s=t("../Toast"),u=cc._decorator,l=u.ccclass,p=(u.property,function(){function t(){}var e;return e=t,t.showToast=function(t){return r(this,void 0,void 0,function(){var n,o,r=this;return i(this,function(i){switch(i.label){case 0:return this.loadingToast?(a.default.wait(.2).then(function(){r.showToast(t)}),[2]):this.prefabToast?[3,2]:(this.loadingToast=!0,n=this,[4,e.load("common/toast",cc.Prefab)]);case 1:n.prefabToast=i.sent(),this.loadingToast=!1,i.label=2;case 2:return(o=cc.instantiate(this.prefabToast)).getComponent(s.default).setData(t),cc.director.getScene().getChildByName("Canvas").addChild(o),cc.tween(o).set({y:-200,opacity:0}).to(.2,{y:-150,opacity:255}).delay(1).to(.2,{y:-200,opacity:0}).start(),[2]}})})},t.browserVersions=function(){var t=window.navigator.userAgent;return{trident:t.indexOf("Trident")>-1,presto:t.indexOf("Presto")>-1,webKit:t.indexOf("AppleWebKit")>-1,gecko:t.indexOf("Gecko")>-1&&-1===t.indexOf("KHTML"),mobile:!!t.match(/AppleWebKit.*Mobile.*/),ios:!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:t.indexOf("Android")>-1||t.indexOf("Adr")>-1,iPhone:t.indexOf("iPhone")>-1,iPad:t.indexOf("iPad")>-1,webApp:-1===t.indexOf("Safari"),weixin:t.indexOf("MicroMessenger")>-1}},t.playSound=function(t){return new Promise(function(e){cc.resources.load(t,cc.AudioClip,function(t,n){var o=cc.audioEngine.play(n,!1,1);e(o)})})},t.asyncByTime=function(t){return r(this,void 0,void 0,function(){return i(this,function(){return[2,new Promise(function(e){setTimeout(function(){e()},t)})]})})},t.throttle=function(t,e){var n=Date.now();return function(){var o=this,r=arguments,i=Date.now();i-n>=e&&(t.apply(o,r),n=Date.now())}},t.getQueryVariable=function(t){for(var e=window.location.search.substring(1).split("&"),n=0;n<e.length;n++){var o=e[n].split("=");if(o[0]==t)return o[1]}return!1},t.goScene=function(t){return new Promise(function(e){cc.director.loadScene(t,function(){e()})})},t.getPrefab=function(t){return new Promise(function(e){cc.resources.load(t,cc.Prefab,function(t,n){e(n)})})},t.setSpFont=function(t,e){return new Promise(function(n){cc.resources.load(e,cc.BitmapFont,function(e,o){t.font=o,n()})})},t.setSpImgFromNet=function(t,e){return new Promise(function(n){cc.loader.load(e,function(e,o){var r=new cc.SpriteFrame(o);t.spriteFrame=r,n()})})},t.load=function(t,e){return r(this,void 0,void 0,function(){return i(this,function(){return[2,new Promise(function(n){cc.resources.load(t,e,function(t,e){n(e)})})]})})},t.setSpImg=function(t,e){return new Promise(function(n){e?cc.resources.load(e,cc.SpriteFrame,function(e,o){t&&t.isValid&&o&&(t.spriteFrame=o),n()}):(t.spriteFrame=null,n())})},t.doAjax=function(t){var e=t.url,n=void 0===e?"":e,o=t.data,r=void 0===o?{}:o,i=t.method,a=void 0===i?"get":i;a=a.toLowerCase();var s=c.ajaxUrl;return-1==n.indexOf("http")&&(n=s+n),new Promise(function(t,e){var o=new XMLHttpRequest;o.timeout=2e4,o.onreadystatechange=function(){if(4==o.readyState&&o.status>=200&&o.status<400){var n,r=o.responseText;0==(n=r.indexOf("{")>-1?JSON.parse(r):r).code?t(n.data):e(n.message)}},o.onerror=function(t){console.error("\u7f51\u7edc\u9519\u8bef",t),e()};var i=Object.assign({},r);for(var c in i)i[c];"post"==a?(o.open("post",n),o.setRequestHeader("Content-Type","application/json"),o.send(JSON.stringify(i))):(o.open("get",n),o.send(null))})},t.loadingToast=!1,t.prefabToast=null,e=o([l("Utils")],t)}());n.default=p,window.Utils=p,cc._RF.pop()},{"../Toast":"Toast","../config/CustomConfig":"CustomConfig","./PromiseUtil":"PromiseUtil"}]},{},["BackgroundFitter","Button","ImageAdapter","ListRender","Marquee","Progress","ScreenAdapter","Toast","CustomConfig","PROTOCLE","Events","AudioPlayer","EventManager","InstanceEvent","PopupManager","SceneNavigator","CustomInterface","ConfirmPopup","PopupBase","ArrayUtil","BrowserUtil","DebugUtil","ImageUtil","MathUtil","NodeUtil","ObjectUtil","PromiseUtil","RegexUtil","StorageUtil","TimeUtil","TweenUtil","Utils","Interface","Combo","EachArea","QuanOperate","Switch","GameCtr","GameManager","RoomManager","SocketManager","ModalMessage","ModalResult","ModalSound","SceneGame","SceneLoading","SceneStart"]);